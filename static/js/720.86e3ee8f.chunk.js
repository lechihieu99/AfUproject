"use strict";(self.webpackChunkentertain_app=self.webpackChunkentertain_app||[]).push([[720],{5720:function(e,t,l){l.r(t);var a=l(4165),n=l(5861),i=l(9439),r=l(2791),s=l(8281),d=l(9005),o=l(2331),c=l(4403),u=l(3710),v=l(9434),x=l(7689),f=l(1947),h=l(1087),m=l(3380),p=l(8329),g=l(5887),k=l(9731),w=l(2666),j=l(7005),y=l(184);t.default=function(e){var t,l,b,N,Z,I,C,S,E,R,z,Y,B,D,H,L,P,_,A,F,G,J,K=e.setImage,O=e.setShowImage,Q=(0,v.I0)(),T=p.Z.get("tokenId"),U=(0,x.TH)(),V=(0,v.v9)((function(e){return e.status.userLikeList})),W=(0,v.v9)((function(e){return e.user.user})),X=(0,v.v9)((function(e){return e.status.statusData})),$=(0,v.v9)((function(e){return e.status.allComment})),q=(0,v.v9)((function(e){return e.status.allStarList})),M=(0,r.useState)(!1),ee=(0,i.Z)(M,2),te=ee[0],le=ee[1],ae=(0,r.useState)(!1),ne=(0,i.Z)(ae,2),ie=ne[0],re=ne[1],se=(0,r.useState)(),de=(0,i.Z)(se,2),oe=de[0],ce=de[1],ue=(0,r.useState)(),ve=(0,i.Z)(ue,2),xe=ve[0],fe=ve[1],he=(0,r.useState)(),me=(0,i.Z)(he,2),pe=me[0],ge=me[1],ke=(0,r.useState)(!1),we=(0,i.Z)(ke,2),je=we[0],ye=we[1],be=(0,r.useState)(),Ne=(0,i.Z)(be,2),Ze=Ne[0],Ie=Ne[1],Ce=(0,r.useState)(!0),Se=(0,i.Z)(Ce,2),Ee=Se[0],Re=(Se[1],(0,r.useState)(!1)),ze=(0,i.Z)(Re,2),Ye=ze[0],Be=ze[1],De=new f.Parser;(0,r.useEffect)((function(){Q((0,m.OJ)({tokenId:T}))}),[te]),(0,r.useEffect)((function(){Q((0,m.Ql)({tokenId:T}))}),[ie]),(0,r.useEffect)((function(){ge(U.pathname.slice(19)),Q((0,m.dR)({link:U.pathname.slice(19)}))}),[]),(0,r.useEffect)((function(){Q((0,k.PR)({tokenId:T})),Q((0,m.lR)({link:U.pathname.slice(19)}))}),[]),(0,r.useEffect)((function(){xe&&ce()}),[xe]),(0,r.useEffect)((function(){var e,t=0;null===V||void 0===V||null===(e=V.data)||void 0===e||e.map((function(e){e.linkStatus===U.pathname.slice(19)&&e.userId===T&&t++})),le(0!==t)}),[V]),(0,r.useEffect)((function(){var e,t=0;null===q||void 0===q||null===(e=q.data)||void 0===e||e.map((function(e){e.linkStatus===U.pathname.slice(19)&&e.tokenId===T&&t++})),re(0!==t)}),[q]);var He=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!te){e.next=10;break}return e.next=3,Q((0,m.pu)({tokenId:T,link:t}));case 3:return e.next=5,Q((0,m.YC)());case 5:return e.next=7,Q((0,m.lR)({link:U.pathname.slice(19)}));case 7:le(!1),e.next=17;break;case 10:return e.next=12,Q((0,m.hl)({tokenId:T,link:t}));case 12:return e.next=14,Q((0,m.YC)());case 14:return e.next=16,Q((0,m.lR)({link:U.pathname.slice(19)}));case 16:le(!0);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ie){e.next=10;break}return e.next=3,Q((0,m.Y4)({link:U.pathname.slice(19),tokenId:T}));case 3:return e.next=5,Q((0,m.YC)());case 5:return e.next=7,Q((0,m.lR)({link:U.pathname.slice(19)}));case 7:re(!1),e.next=17;break;case 10:return e.next=12,Q((0,m.nN)({link:U.pathname.slice(19),tokenId:T,ownerId:null===X||void 0===X||null===(t=X.data[0])||void 0===t?void 0:t.userId}));case 12:return e.next=14,Q((0,m.YC)());case 14:return e.next=16,Q((0,m.lR)({link:U.pathname.slice(19)}));case 16:re(!0);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var t,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!xe){e.next=15;break}return ce(),e.next=4,Q((0,m.$0)({link:null===X||void 0===X||null===(t=X.data[0])||void 0===t?void 0:t.link,ownerId:null===X||void 0===X||null===(l=X.data[0])||void 0===l?void 0:l.userId,userComment:T,content:xe.replace(/\n\r?/g,"<br/>")}));case 4:return fe(),document.getElementById("comment").value="",e.next=9,Q((0,m.YC)());case 9:return e.next=11,Q((0,m.lR)({link:U.pathname.slice(19)}));case 11:return e.next=13,Q((0,m.dR)({link:pe}));case 13:e.next=16;break;case 15:ce("Kh\u1ed5ng th\u1ec3 g\u1eedi b\xecnh lu\u1eadn tr\u1ed1ng");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"w-full h-full bg-black-200 flex gap-4",children:[(0,y.jsxs)("div",{className:"w-2/3 h-full border-r-[1px] border-white-200 p-4",children:[(0,y.jsxs)("div",{className:"w-full flex gap-4 relative z-10",children:[(0,y.jsx)("img",{src:null===W||void 0===W||null===(t=W.data[0])||void 0===t?void 0:t.avatar,className:"w-10 h-10 rounded-full"}),(0,y.jsx)(h.rU,{to:"/afuproject/".concat(null===X||void 0===X||null===(l=X.data[0])||void 0===l?void 0:l.userId),className:"text-gray-200 font-bold flex items-center",children:null===X||void 0===X||null===(b=X.data[0])||void 0===b?void 0:b.name}),(null===X||void 0===X||null===(N=X.data[0])||void 0===N?void 0:N.userId)===T&&(0,y.jsxs)("div",{className:"absolute top-2 right-2",children:[(0,y.jsx)(s.Z,{size:20,weight:"fill",className:"text-gray-200 cursor-pointer",onClick:function(){return Be(!Ye)}}),(0,y.jsxs)("ul",{className:"w-32 bg-white rounded-lg text-sm text-gray-700 dark:text-gray-200 absolute top-8 right-0 ".concat(!Ye&&"hidden"),"aria-labelledby":"dropdownDefaultButton",children:[(0,y.jsx)("li",{children:(0,y.jsx)("a",{href:"#",className:"flex rounded-t-lg px-6 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",children:"X\xf3a b\xe0i vi\u1ebft"})}),(0,y.jsx)("li",{children:(0,y.jsx)("a",{href:"#",className:"flex px-6 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",children:"Settings"})}),(0,y.jsx)("li",{children:(0,y.jsx)("a",{href:"#",className:"flex px-6 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",children:"Earnings"})}),(0,y.jsx)("li",{children:(0,y.jsx)("a",{href:"#",className:"flex rounded-b-lg px-6 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",children:"Sign out"})})]})]})]}),(0,y.jsx)("div",{className:"w-full px-4",children:(0,y.jsxs)("div",{className:"w-full flex flex-col",children:[(0,y.jsxs)("div",{className:"w-1/2 flex items-start justify-start gap-4 p-4",children:[(0,y.jsxs)("div",{className:"w-full flex gap-2 items-center",children:[(0,y.jsx)(d.Z,{size:20,weight:"fill",className:"".concat(te?"text-pink-velvet":"text-gray-400"," cursor-pointer"),onClick:function(){var e;return He(null===X||void 0===X||null===(e=X.data[0])||void 0===e?void 0:e.link)}}),(0,y.jsx)("div",{className:"text-sm text-gray-200",children:null===X||void 0===X||null===(Z=X.data[0])||void 0===Z?void 0:Z.likeNumber})]}),(0,y.jsxs)("div",{className:"w-full flex gap-2 items-center",children:[(0,y.jsx)(o.Z,{size:20,weight:"fill",className:"text-blue-400 cursor-pointer"}),(0,y.jsx)("div",{className:"text-sm text-gray-200",children:null===X||void 0===X||null===(I=X.data[0])||void 0===I?void 0:I.comment})]}),(0,y.jsxs)("div",{className:"w-full flex gap-2 items-center",children:[(0,y.jsx)(c.Z,{size:20,weight:"fill",className:"".concat(ie?"text-yellow-400":"text-gray-400"," cursor-pointer"),onClick:Le}),(0,y.jsx)("div",{className:"text-sm text-gray-200",children:null===X||void 0===X||null===(C=X.data[0])||void 0===C?void 0:C.star})]}),(0,y.jsxs)("div",{className:"w-full flex gap-2 items-center",children:[(0,y.jsx)(u.Z,{size:20,weight:"fill",className:"text-gray-400 cursor-pointer",onClick:function(){var e;Ie(null===X||void 0===X||null===(e=X.data[0])||void 0===e?void 0:e.link),ye(!0)}}),(0,y.jsx)("div",{className:"text-sm text-gray-200",children:null===X||void 0===X||null===(S=X.data[0])||void 0===S?void 0:S.share})]})]}),(0,y.jsxs)("div",{className:"w-full cursor-pointer flex flex-col ".concat("text"===(null===X||void 0===X||null===(E=X.data[0])||void 0===E?void 0:E.type)&&"pl-4 border-l-[1px] border-white-200"),children:[(null===X||void 0===X||null===(R=X.data[0])||void 0===R?void 0:R.imageContent)&&"image"===(null===X||void 0===X||null===(z=X.data[0])||void 0===z?void 0:z.type)&&(0,y.jsx)("div",{className:"w-full text-gray-200",children:void 0!==(null===X||void 0===X||null===(Y=X.data[0])||void 0===Y?void 0:Y.imageContent)&&De.parse(null===X||void 0===X||null===(B=X.data[0])||void 0===B?void 0:B.imageContent)}),"image"===(null===X||void 0===X||null===(D=X.data[0])||void 0===D?void 0:D.type)&&(0,y.jsx)("div",{className:"w-full bg-black-200 flex justify-center items-center overflow-hidden cursor-pointer",style:{maxHeight:"80vh"},children:(0,y.jsx)("img",{src:null===X||void 0===X||null===(H=X.data[0])||void 0===H?void 0:H.image,className:"object-contain",onClick:function(){var e;K(null===X||void 0===X||null===(e=X.data[0])||void 0===e?void 0:e.image),O(!0)}})}),"text"===(null===X||void 0===X||null===(L=X.data[0])||void 0===L?void 0:L.type)&&(0,y.jsx)("div",{className:"w-full text-gray-200 text-sm cursor-pointer",children:De.parse(null===X||void 0===X||null===(P=X.data[0])||void 0===P?void 0:P.content)})]})]})})]}),(0,y.jsxs)("div",{className:"w-1/3 h-full p-4",children:[(0,y.jsxs)("div",{className:"w-full overflow-y-auto",style:{maxHeight:"calc(100% - 80px)"},children:[(0,y.jsx)("div",{className:"w-full text-gray-200 font-semibold pb-2",children:"B\xecnh lu\u1eadn"}),(0,y.jsx)("div",{className:"w-full flex flex-col gap-2",children:0!==(null===$||void 0===$||null===(_=$.data)||void 0===_?void 0:_.length)&&(null===$||void 0===$||null===(A=$.data)||void 0===A?void 0:A.map((function(e){return(0,y.jsx)(w.Z,{data:e,show:Ee})})))}),0===(null===$||void 0===$||null===(F=$.data)||void 0===F?void 0:F.length)&&(0,y.jsx)("div",{className:"w-full flex justify-center items-center text-gray-400 text-sm",children:"Ch\u01b0a c\xf3 b\xecnh lu\u1eadn"})]}),(0,y.jsxs)("div",{className:"w-full h-20 pt-2 flex justify-center items-start gap-4",children:[(0,y.jsx)("img",{src:null!==W&&void 0!==W&&null!==(G=W.data[0])&&void 0!==G&&G.avatar?null===W||void 0===W||null===(J=W.data[0])||void 0===J?void 0:J.avatar:g.W.DefaultAvatar,className:"w-10 h-10 rounded-full"}),(0,y.jsxs)("div",{className:"flex flex-col gap-2",style:{width:"calc(100% - 48px)"},children:[(0,y.jsx)("textarea",{id:"comment",value:xe,onChange:function(e){fe(e.target.value)},rows:"1",style:{resize:"none"},className:"w-full bg-black-200 border border-gray-300 text-white text-sm rounded-lg focus:ring-white focus:border-none block min-h-[30px] max-h-[40vh] p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 placeholder:text-white-200",placeholder:"Vi\u1ebft suy ngh\u0129 c\u1ee7a b\u1ea1n ra \u0111\xe2y..."}),oe&&(0,y.jsx)("div",{className:"text-red-400",children:oe}),(0,y.jsx)("div",{className:"w-fit flex justify-center items-center px-2 py-[2px] rounded-lg text-xs text-gray-200 bg-pink-velvet cursor-pointer",onClick:Pe,children:"G\u1eedi b\xecnh lu\u1eadn"})]})]})]})]}),(0,y.jsx)(j.Z,{show:je,setShow:ye,statusId:Ze})]})}}}]);
//# sourceMappingURL=720.86e3ee8f.chunk.js.map